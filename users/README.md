## Приложение для работы с пользователями 

Этот проект - основа для приложения NestJS с TypeScript, включающая в себя миграции для MongoDB, тестовые сценарии и базовый функционал для работы с пользователями.

# Установка:
Клонируйте репозиторий с помощью команды git clone <URL_репозитория>.
Перейдите в папку проекта с помощью cd <имя_папки>.
Установите зависимости, выполнив команду npm install.

# Запуск приложения:
Режим разработки: npm run start:dev

# Режим продакшена:
Сборка: npm run build
Запуск: npm run start:prod

# Создание пользователей:
Запустите скрипт npm run populate-db.
Скрипт создаст коллекцию user1 в базе данных MongoDB и заполнит ее случайными данными о пользователях.


## Тестирование API

Приложение предоставляет два API для работы с пользователями:

* **GET `/users/count-problems`**: Возвращает количество пользователей, у которых поле `problems` равно `true`.
* **POST `/users/update-problems`**: Обновляет поле `problems`  в `true` для пользователей, идентификаторы которых передаются в теле запроса.

### Тестирование с помощью Postman

1. **Заполните базу данных:** Запустите скрипт `npm run populate-db` для создания данных.
2. **Проверьте `GET /users/count-problems`:**
    * **Отправьте запрос:** Используйте Postman для отправки GET-запроса на `/users/count-problems`.
    * **Проверьте результат:**  Убедитесь, что API возвращает число, которое соответствует количеству пользователей с `problems: true` в базе данных. 
3. **Проверьте `POST /users/update-problems`:**
    * **Найдите ID пользователей:** Используйте Postman для отправки GET-запроса на `/users` и получите ID пользователей с `problems: false`.
    * **Отправьте запрос:** Используйте Postman для отправки POST-запроса на `/users/update-problems` с найденными ID пользователей.
    * **Проверьте ответ:** API должен вернуть число, которое соответствует количеству обновленных пользователей.
    * **Проверьте базу данных:**  Убедитесь, что у пользователей с отправленными ID `problems: true`.


# Запрос GET /users/count-problems
curl http://localhost:3000/users/count-problems

# Тестирование с помощью Jest:
Запуск тестов: npm run test
Запуск тестов в режиме просмотра: npm run test:watch
Запуск тестов с покрытием кода: npm run test:cov

# Отладка тестов: npm run test:debug
Дополнительные задачи:
Форматирование кода: npm run format
Проверка кода: npm run lint
